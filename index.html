<!DOCTYPE html>
<html lang="pt-BR" xmlns:ng="http://angularjs.org" ng-app="produtoApp">

<head>
    <title>Projeto Frontend - Java Spring</title>
    <script src="js/angular.min.js"></script>   
    <script src="js/angular-locale_pt-br.js"></script> 
    <script src="js/produtoApp.js"></script>
    <script src="js/outros.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/main.css">
</head>

<body ng-controller="ProdutoController">
    <div>
        <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 bd-content" role="main">
            <form name="form-control" novalidate>
                <div class="container" style="margin-left: 50%; margin-top: 10%;" ng-show="novoitem">
                    <div class="row-cols-6">                        
                            <div class="form-group" ng-show="!novoitem">

                                <label for="pId">Id:</label>
                                <input type="text" id="pId" class="form-control" ng-model="produto.id" name="pId"
                                    readonly />
                            </div>
                    </div>
                    <div class="row-cols-2">                        
                            <div class="form-group">

                                <label for="pNome">Nome:</label>
                                <input type="text" id="pNome" class="form-control" ng-model="produto.nome" name="pNome"
                                    placeholder="Nome do produto" />
                            </div>
                    </div>
                    <div class="row-cols-2">                                            
                            <div class="form-group">
                                <label for="pDescricao">Descrição:</label>
                                <input type="text" id="pDescricao" class="form-control" ng-model="produto.descricao"
                                    name="pDescricao" placeholder="Descrição do produto" />

                            </div>
                    </div>
                    <div class="row-cols-2">                        
                            <div class="form-group">
                                <label for="pValor">Valor:</label>
                                <input type="number" id="pValor" class="form-control" ng-model="produto.valor"
                                    name="pValor" placeholder="Valor do produto" />

                            </div>
                    </div>
                    <div class="btn-group-lg">
                        <button class="btn btn-info" ng-click="listarProdutos()" >Listar</button>
                        <button class="btn btn-secondary" ng-click="limparForm()" >Limpar</button>
                        <button  class="btn btn-primary" ng-click="salvarProduto()" >Salvar</button>
                        
                    </div>
                    
                    
                </div>


            </form>
            
        </main>
    </div>

    <div class="container-fluid" ng-show="!novoitem" >
        <div class="table100 ver1 m-b-110">
            
            <div class="table100-head">
                <table>
                    <thead class="row100 head">
                        <th class="cell100 column1">n°</th>
                        <th class="cell100 column2">Nome produto</th>
                        <th class="cell100 column3">Descrição</th>
                        <th class="cell100 column4">valor</th>
                        <th class="cell100 column5">ações</th>
                    </thead>
                </table>
            </div>
            <div class="table100-body js-pscroll ps ps--active-y">
                <table>
                    <tbody>
                        <tr class="row100 body" ng-repeat="x in produtos">
                            <td class="cell100 column1">{{ $index + 1 }}</td>                           
                            <td class="cell100 column2">{{ x.nome }}</td>
                            <td class="cell100 column3">{{ x.descricao }}</td>
                            <td class="cell100 column4">{{ x.valor | currency:'R$ ' }}</td>
                            <td class="cell100 column5">
                                <button ng-click="removerProduto(x.id)"><i class="fas fa-trash"></i></button>
                                &nbsp;&nbsp;&nbsp;&nbsp;
                                <button ng-click="editarProduto(x)"><i class="fas fa-edit"></i> </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="row" style="margin-left: 40% ; margin-top: 50px">
            <input type="submit" class="btn btn-primary" ng-click="LiberNovo()" value="Novo" />

        </div>
    </div>
</body>

</html>